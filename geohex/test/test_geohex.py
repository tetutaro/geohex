#!/usr/bin/env python3
# -*- coding:utf-8 -*-
import pytest
from ..geohex import GeoHex, code2hex

# geohexのテスト座標系一覧
# 本家のgeohexテストが、経度が子午線に近い場合、東経なら西経、西経なら東経に
# 変換したもの相当を計算してしまうバグがあった頃のテストらしく、
# 以下はそれを全部修正している。
# （仮に東経を西経（-180より小さい）、西経を東経（180より大きい）としたときに
#   本家のコードになるかチェックした上で修正している）
geohex_testcases = [
    ['XM', (32.70505659484853, 140), 0],
    ['OY', (0, 0), 0],
    ['GI', (-11.469624951364336, -180), 0],
    ['QU', (11.469624951364336, -180), 0],
    ['GH', (-22.492949287972582, -160), 0],
    ['EU', (-77.56429515669195, -180), 0],
    ['CI', (-85.44459258668755, 120), 0],
    ['BV', (-85.44459258668755, -80), 0],
    ['Fb', (-49.88876303236152, -99.99999999999999), 0],
    ['SV', (67.44237810333283, -80), 0],
    ['TO', (84.42893127178179, -180), 0],
    ['TK', (81.67153816651363, -180), 0],
    ['bD', (83.1877023714706, -40.000000000000036), 0],
    ['ZA', (74.81716117480471, 119.99999999999997), 0],
    ['aX', (77.56429515669195, 19.99999999999999), 0],
    ['PZ', (41.870676400014105, 40), 0],
    ['OK', (-49.88876303236152, 60), 0],
    ['CZ3', (-78.36652525170464, -13.333333333333325), 1],
    ['CI8', (-84.79037346855579, 120), 1],
    ['DO0', (-85.12842640497867, -180), 1],
    ['EX2', (-74.81716117480471, -173.33333333333337), 1],
    ['LK1', (-78.36652525170464, 173.33333333333337), 1],  # 本家だとEU1
    ['OK4', (-49.88876303236154, 60), 1],
    ['GI3', (-15.214003464478482, -173.33333333333334), 1],
    ['Mc1', (-15.214003464478495, 173.33333333333337), 1],  # 本家だとGI1
    ['QU0', (3.846110061441703, -180), 1],
    ['QU7', (15.214003464478509, -173.33333333333337), 1],
    ['GH8', (-15.214003464478509, -160), 1],
    ['OY0', (-7.674947601297844, 0), 1],
    ['Fb3', (-52.305221672747535, -93.33333333333333), 1],
    ['XM4', (32.70505659484853, 140), 1],
    ['PZ0', (35.884127591325736, 40), 1],
    ['SW6', (71.48066686818822, -86.66666666666666), 1],
    ['SV3', (65.9192675132544, -73.33333333333333), 1],
    ['aX0', (75.79318460548843, 20.000000000000018), 1],
    ['aX8', (79.11767176735405, 20.000000000000018), 1],
    ['aZ2', (81.67153816651366, -33.33333333333335), 1],
    ['TO4', (84.42893127178182, -180), 1],
    ['aB6', (83.1877023714706, 173.33333333333337), 1],
    ['aA1', (81.09508214542126, 173.33333333333337), 1],  # 本家だとTK1
    ['TK3', (81.09508214542126, -173.33333333333334), 1],
    ['ZA4', (74.81716117480471, 120.00000000000001), 1],
    ['PA0', (3.8461100614416903, -60), 1],
    ['BV8', (-84.79037346855579, -80.00000000000003), 1],
    ['CI76', (-85.12842640497867, 131.1111111111111), 2],
    ['CI55', (-85.01824615280158, 111.11111111111113), 2],
    ['DO07', (-85.01824615280158, -177.77777777777774), 2],
    ['KE05', (-85.01824615280158, 177.77777777777774), 2],  # 本家だとDO05
    ['EU06', (-79.11767176735404, -175.55555555555554), 2],
    ['LK13', (-78.62242518007724, 175.55555555555554), 2],  # 本家だとEU13
    ['GH32', (-26.001626863364294, -157.77777777777777), 2],
    ['OK51', (-48.20715710294776, 51.1111111111111), 2],
    ['GI47', (-10.20954347278331, -177.77777777777774), 2],
    ['Mc53', (-8.944451331547656, 175.55555555555554), 2],  # 本家だとGI53
    ['QU08', (6.40164208700373, -180), 2],
    ['OC58', (6.401642087003718, -166.66666666666666), 2],
    ['XL60', (20.10241692335465, 173.33333333333334), 2],
    ['XM56', (35.884127591325765, 137.77777777777777), 2],
    ['PS62', (22.492949287972593, 128.88888888888889), 2],
    ['XX03', (43.75284033840225, 142.22222222222223), 2],
    ['PZ38', (40.9081556333403, 46.66666666666667), 2],
    ['PZ04', (35.884127591325736, 40), 2],
    ['PZ18', (40.9081556333403, 33.33333333333333), 2],
    ['OU88', (-12.72410877326099, 0), 2],
    ['OY53', (2.5651438499496004, -4.444444444444445), 2],
    ['PA04', (3.846110061441703, -60), 2],
    ['Fb17', (-51.51375829311735, -104.44444444444444), 2],
    ['Fb34', (-52.305221672747535, -93.33333333333333), 2],
    ['Fb86', (-44.67241139341943, -95.55555555555556), 2],
    ['GH58', (-16.448311865961884, -166.66666666666666), 2],
    ['TK63', (81.48362471150257, -164.44444444444443), 2],
    ['TO07', (83.77015010087217, -177.77777777777774), 2],
    ['aE42', (84.42893127178182, 175.55555555555554), 2],  # 本家だとTO42
    ['aA02', (80.47907085748827, 175.55555555555554), 2],  # 本家だとTK02
    ['bD31', (82.55108111056764, -35.555555555555536), 2],
    ['bE73', (84.67256857383902, -51.11111111111112), 2],
    ['bb33', (85.0182461528016, 88.88888888888887), 2],
    ['TO84', (85.12842640497868, -180), 2],
    ['TO47', (84.55210762141155, -177.77777777777774), 2],
    ['aB61', (83.03381226166323, 171.11111111111111), 2],
    ['ZA08', (73.41342238844585, 120.00000000000003), 2],
    ['aX55', (78.62242518007724, 11.111111111111107), 2],
    ['aX04', (75.79318460548843, 19.99999999999999), 2],
    ['YF58', (76.40945269309518, 33.33333333333335), 2],
    ['SV40', (66.43743994246994, -80), 2],
    ['RX15', (48.20715710294777, -108.88888888888889), 2],
    ['OU40', (-24.842889690285062, 0), 2],
    ['BV56', (-85.12842640497867, -82.22222222222224), 2],
    ['CI771', (-85.055246359875, 128.14814814814815), 3],
    ['KE045', (-85.09197243860311, 179.25925925925932), 3],  # 本家だとDO045
    ['KE056', (-85.01824615280158, 179.25925925925924), 3],  # 本家だとDO056
    ['DO077', (-84.9809697867981, -177.03703703703704), 3],
    ['BV778', (-84.9434152165899, -71.11111111111111), 3],
    ['BV568', (-85.055246359875, -82.22222222222224), 3],
    ['CZ335', (-78.53774837153644, -11.851851851851855), 3],
    ['LK570', (-76.60898893146053, 175.55555555555554), 3],  # 本家だとEU570
    ['EU868', (-75.58174046495692, -175.55555555555554), 3],
    ['OK468', (-49.33454485016383, 64.44444444444446), 3],
    ['OY443', (-0.4276628949350651, 0.7407407407407408), 3],
    ['OY004', (-10.209543472783297, 0), 3],
    ['Fb526', (-47.34497008204646, -109.62962962962963), 3],
    ['GH588', (-15.626274156012219, -166.66666666666666), 3],
    ['GI440', (-12.306605159163768, -180), 3],
    ['GI622', (-11.469624951364336, -172.59259259259258), 3],
    ['QU340', (6.826461637179052, -173.33333333333334), 3],
    ['XK026', (3.8461100614416903, 177.037037037037), 3],  # 本家だとQU026
    ['XM454', (33.77808654808929, 137.77777777777777), 3],
    ['PS624', (22.492949287972593, 128.88888888888889), 3],
    ['XX038', (44.36748324231291, 142.22222222222223), 3],
    ['XU630', (40.25857226491307, 135.55555555555557), 3],
    ['PZ342', (38.940540734971115, 45.18518518518519), 3],
    ['PZ580', (45.87616409528786, 33.33333333333332), 3],
    ['OY864', (7.674947601297857, 4.444444444444445), 3],
    ['OY145', (-3.419303491595713, -7.4074074074074066), 3],
    ['PA032', (2.5651438499496133, -59.25925925925927), 3],
    ['OI758', (27.90753234300438, -115.55555555555554), 3],
    ['SV428', (67.7682415504757, -84.44444444444446), 3],
    ['SV385', (67.11199113847319, -74.07407407407408), 3],
    ['aX355', (77.09532905324006, 23.70370370370368), 3],
    ['aX568', (78.53774837153645, 17.777777777777768), 3],
    ['bD744', (83.62936132439059, -33.33333333333335), 3],
    ['bD515', (83.53374630039932, -49.629629629629626), 3],
    ['bb337', (85.05524635987501, 89.62962962962966), 3],
    ['TO808', (84.98096978679811, -180), 3],
    ['aE428', (84.51135351620655, 175.55555555555554), 3],  # 本家だとTO428
    ['TO474', (84.55210762141155, -177.7777777777778), 3],
    ['TO073', (83.72356825638371, -177.03703703703704), 3],
    ['aB648', (83.28841126938276, 173.33333333333334), 3],
    ['YG168', (70.50590211456444, 97.77777777777777), 3],
    ['BV7511', (-85.06751874496823, -76.54320987654322), 4],
    ['BV7541', (-85.03061013890785, -75.80246913580245), 4],
    ['KE0532', (-85.055246359875, 178.02469135802468), 4],  # 本家だとDO0532
    ['DO3203', (-84.88020043270879, -177.53086419753086), 4],
    ['EU6235', (-77.6255431823326, -170.6172839506173), 4],
    ['LK1425', (-78.3377438281995, 171.60493827160496), 4],  # 本家だとEU1425
    ['OK7172', (-47.92134973633546, 64.69135802469134), 4],
    ['CZ0737', (-78.92765772010968, -16.790123456790113), 4],
    ['Fb0200', (-55.251983655277314, -104.44444444444443), 4],
    ['Fb8608', (-45.07649961065172, -95.55555555555556), 4],
    ['GH4405', (-23.149924898842006, -160.2469135802469), 4],
    ['Mc2651', (-11.190070126580682, 170.12345679012347), 4],  # 本家だとGI2651
    ['OC2121', (-1.4254091619935396, -177.28395061728392), 4],
    ['QU7871', (17.946266278655553, -172.83950617283952), 4],
    ['XK4212', (11.050191029226413, 174.32098765432102), 4],  # 本家だとQU4212
    ['OK4362', (-50.70830056151141, 63.20987654320988), 4],
    ['OX2538', (-10.34981081126957, 5.185185185185185), 4],
    ['OY5663', (3.7038637783779045, -0.4938271604938276), 4],
    ['OG6663', (-0.14255547494137086, -60.49382716049383), 4],
    ['PZ0631', (35.420785913410434, 44.938271604938265), 4],
    ['SV8518', (70.60082366755294, -82.96296296296296), 4],
    ['TK3246', (81.09508214542126, -177.28395061728395), 4],
    ['aA1825', (81.5047101156331, 171.60493827160494), 4],  # 本家だとTK1825
    ['aB6727', (83.35472580926526, 174.32098765432096), 4],
    ['TR1202', (85.05524635987501, -171.60493827160494), 4],
    ['bD4054', (82.92930196274219, -40.74074074074073), 4],
    ['aX4486', (77.74714967960598, 20.493827160493833), 4],
    ['ZA5685', (76.03603270206148, 117.53086419753089), 4],
    ['XM4881', (35.420785913410434, 139.7530864197531), 4],
    ['XU6302', (40.25857226491307, 135.06172839506175), 4],
    ['XX0337', (43.546541711503515, 143.2098765432099), 4],
    ['XM6425', (32.82493120891863, 151.60493827160496), 4],
    ['PS6270', (22.62459744062219, 129.62962962962962), 4],
    ['BV80302', (-85.07976074632226, -79.42386831275724), 5],
    ['BV80373', (-85.04704785300429, -78.93004115226337), 5],
    ['DO08354', (-84.93083484773156, -179.50617283950612), 5],
    ['KE05758', (-84.9601406144117, 178.27160493827157), 5],  # 本家だとDO05758
    ['EU31135', (-78.72508109998212, -176.13168724279834), 5],
    ['LK45042', (-77.47186327705677, 177.6131687242798), 5],  # 本家だとEU45042
    ['CZ35087', (-78.21221081913176, -15.47325102880659), 5],
    ['OK06445', (-54.569097632502626, 64.36213991769546), 5],
    ['Fb80457', (-46.33739563508728, -100.16460905349794), 5],
    ['GH80422', (-17.674819831740678, -160.65843621399173), 5],
    ['GI74753', (-7.156617561633091, -172.75720164609046), 5],
    ['Mc80240', (-6.496077810333859, 178.51851851851848), 5],  # 本家だとGI80240
    ['XK01265', (2.612613889744312, 176.70781893004116), 5],  # 本家だとQU01265
    ['QU86344', (18.487906116222756, -174.8148148148148), 5],
    ['OY77334', (4.556967978746024, 9.87654320987654), 5],
    ['OY15454', (-2.422723288518337, -9.1358024691358), 5],
    ['PA04170', (3.466736260749132, -60.493827160493815), 5],
    ['PS62113', (21.921032689851973, 127.98353909465017), 5],
    ['PS68342', (24.454191557293267, 133.90946502057614), 5],
    ['XM78145', (37.63518586440209, 145.84362139917695), 5],
    ['XM48257', (34.99370111793707, 138.35390946502056), 5],
    ['XX03156', (43.546541711503515, 141.3991769547325), 5],
    ['PZ47685', (43.062423615808804, 43.62139917695472), 5],
    ['SV40654', (66.49436163127307, -78.7654320987654), 5],
    ['OI71873', (25.702285927321487, -115.22633744855965), 5],
    ['aX40264', (76.99947013952956, 19.012345679012363), 5],
    ['ZA44552', (74.96578743743133, 118.84773662551439), 5],
    ['bD47117', (83.27729497862227, -38.68312757201646), 5],
    ['aA51615', (82.02192059895748, 172.26337448559673), 5],  # 本家だとTK51615
    ['TK71615', (82.02192059895748, -174.40329218106993), 5],
    ['TO38458', (84.32651565973765, -173.58024691358025), 5],
    ['aE58484', (85.04294351619683, 173.33333333333337), 5],  # 本家だとTO58484
    ['BV553581', (-85.03609541431689, -88.4224965706447), 6],
    ['CI802417', (-85.02099635433396, 118.46364883401921), 6],
    ['CI750110', (-85.11090833582553, 124.11522633744853), 6],
    ['KE018862', (-85.14051760404581, 177.8875171467764), 6],  # 本家だとDO018862
    ['KE053505', (-85.04978219412602, 178.24417009602195), 6],  # 本家だとDO053505
    ['DO074664', (-85.0182461528016, -177.1193415637861), 6],
    ['CZ351822', (-78.13429857495768, -16.51577503429356), 6],
    ['LK412420', (-77.84425402866793, 176.13168724279836), 6],  # 本家だとEU412420
    ['EU708101', (-77.15180611673658, -173.60768175582993), 6],
    ['OK847038', (-44.58222868649629, 60.82304526748971), 6],
    ['GH501658', (-21.626844357539934, -166.99588477366254), 6],
    ['Mc842644', (-3.8461100614416903, 179.01234567901233), 6],  # 本家だとGI842644
    ['GI836575', (-4.9200310051179015, -176.48834019204392), 6],
    ['QU316588', (6.669163764467287, -174.32098765432102), 6],
    ['XK175485', (9.476049692387006, 174.78737997256516), 6],  # 本家だとQU175485
    ['Fb711277', (-48.449371535419765, -96.68038408779151), 6],
    ['OY728344', (4.556967978746024, 2.469135802469136), 6],
    ['PA016372', (2.470198516809545, -60.466392318244175), 6],
    ['QU408880', (10.131590386552373, -180), 6],
    ['XM442337', (32.55832421354656, 138.87517146776406), 6],
    ['PS387785', (21.935726236625015, 127.62688614540467), 6],
    ['XX037037', (43.83287620143813, 143.07270233196158), 6],
    ['PZ173676', (39.63929461614907, 36.927297668038406), 6],
    ['SV321726', (65.8026708623787, -78.38134430727023), 6],
    ['PC828583', (39.773338334546146, -104.6639231824417), 6],
    ['OI713375', (24.382077991931016, -114.51303155006859), 6],
    ['bD080050', (82.4038568826114, -40.082304526749), 6],
    ['aX817100', (78.90329568451087, 18.271604938271615), 6],
    ['ZA712478', (75.49471609617443, 123.04526748971193), 6],
    ['aA166315', (81.06807090685717, 179.39643347050756), 6],  # 本家だとTK166315 # noqa
    ['TK873482', (82.83509514206584, -177.09190672153633), 6],
    ['TO433402', (84.2508548924535, -177.09190672153633), 6],
    ['aE586342', (85.00585148249067, 175.00685871056243), 6],  # 本家だとTO586342 # noqa
    ['bb335332', (85.03883578676745, 88.42249657064474), 6],
    ['BV8032788', (-85.04750368112704, -79.67078189300406), 7],
    ['CI7714524', (-85.05114879997076, 128.01097393689983), 7],
    ['KE0514686', (-85.05251502947527, 177.21993598536804), 7],  # 本家だとDO0514686 # noqa
    ['KE0517300', (-85.05069330650984, 177.3662551440329), 7],  # 本家だとDO0517300 # noqa
    ['DO0732687', (-85.05205966144965, -177.35711019661636), 7],
    ['DO0732768', (-85.05023777122953, -177.39368998628257), 7],
    ['EU4031833', (-78.20681658015287, -179.46959304983992), 7],
    ['EU8072131', (-76.32483001774261, -179.81710105166894), 7],
    ['LK8255485', (-75.6434006236876, 174.55875628715137), 7],  # 本家だとEU8255485 # noqa
    ['CZ3800810', (-78.06134107808937, -13.360768175582997), 7],
    ['OK1624776', (-52.26646412714779, 56.424325560128025), 7],
    ['OK7464515', (-47.31992145629309, 68.02926383173298), 7],
    ['Fb5316746', (-48.45987650641166, -104.59076360310927), 7],
    ['Fb4033527', (-51.834628009147735, -99.14037494284406), 7],
    ['GH4540858', (-21.454956946828297, -162.24965706447188), 7],
    ['GI4351804', (-12.383971425939663, -178.76543209876544), 7],
    ['GI8387484', (-4.098933172479513, -177.53086419753086), 7],
    ['QU0706771', (4.330617601639888, -177.18335619570186), 7],
    ['QU4884047', (14.714128073890608, -179.99085505258344), 7],
    ['XK8251271', (19.172525248647407, 174.42158207590305), 7],  # 本家だとQU8251271 # noqa
    ['PA0565644', (5.267123667292918, -60.82304526748971), 7],
    ['OY8320288', (6.16022759188225, 0.576131687242797), 7],
    ['OY3556486', (-2.106180802162651, 4.215820759030636), 7],
    ['PZ8016814', (45.333181571987915, 39.725651577503434), 7],
    ['PZ1746604', (39.907121529314956, 36.21399176954731), 7],
    ['PS6242083', (22.42951839128782, 128.4042066758116), 7],
    ['XM5643552', (35.819935413610864, 137.89666209419295), 7],
    ['XU6303820', (40.214236183804, 135.7475994513032), 7],
    ['XM7851800', (38.20164704742394, 145.67901234567904), 7],
    ['XX0345653', (43.86333785879606, 142.12162780064014), 7],
    ['XM6306347', (30.851511008998052, 156.14083219021487), 7],
    ['XK8827707', (21.454956946828297, 178.85688157293094), 7],  # 本家だとQU8827707 # noqa
    ['PZ4253332', (42.03559230187854, 35.15317786922726), 7],
    ['OI8776718', (30.92400736452902, -116.4883401920439), 7],
    ['PF2148656', (41.135210942868746, -95.40009144947416), 7],
    ['ZA4587731', (75.40983806367858, 118.12528577960678), 7],
    ['SV4335020', (66.7915979463581, -77.33882030178327), 7],
    ['SV5843218', (69.72847884541945, -86.61179698216738), 7],
    ['aX0682573', (76.01563273022674, 23.90489254686786), 7],
    ['aX8100870', (78.67023811301752, 17.80521262002741), 7],
    ['bD4424804', (83.19521359504485, -41.48148148148148), 7],
    ['bE6100113', (84.18168672552544, -48.98948331047094), 7],
    ['aA5027217', (81.87401287786506, 171.91586648376767), 7],  # 本家だとTK5027217 # noqa
    ['TK7070414', (81.87326653740467, -172.62002743484223), 7],
    ['TO6240542', (84.40581802575272, -171.21170553269317), 7],
    ['TO7775738', (84.95967676595735, -170.50754458161862), 7],
    ['aE5821675', (85.00768966906308, 171.78783721993594), 7],  # 本家だとTO5821675 # noqa
    ['bb3371862', (85.05114879997076, 89.41929583904891), 7],
    ['BV54870250', (-85.05099697346348, -86.48376771833561), 8],
    ['BV78253862', (-84.89431593312257, -74.9672306050907), 8],
    ['CI57758513', (-84.95936750999883, 116.01585124218866), 8],
    ['CI75600226', (-85.05114879997076, 125.85886297820451), 8],
    ['KE05603615', (-85.04735174306921, 179.38424020728547), 8],  # 本家だとDO05603615 # noqa
    ['DO07152160', (-85.04461606279176, -178.93918609967997), 8],
    ['LK41063674', (-78.0252444701795, 178.41792409693645), 8],  # 本家だとEU41063674 # noqa
    ['EU72201265', (-76.78353577417859, -179.38119189147997), 8],
    ['CZ34762511', (-78.27818254539632, -12.30300259106843), 8],
    ['Fb38241503', (-50.73615525197652, -94.92150586800793), 8],
    ['OK48511367', (-48.05798249478465, 58.97881420515164), 8],
    ['GI32042116', (-16.05801314654258, -177.9728699893309), 8],
    ['GI71565064', (-8.50607873048697, -175.86648376771834), 8],
    ['GH45442518', (-21.289426163285537, -162.42341106538635), 8],
    ['OY33228746', (-5.014711132428624, 6.947111720774272), 8],
    ['PA03278283', (2.8112649508743917, -59.06416704770615), 8],
    ['XK42174351', (11.177984463616795, 175.0769699740893), 8],  # 本家だとQU42174351 # noqa
    ['QU47122108', (12.28425065422217, -179.20438957475992), 8],
    ['XM32230826', (29.229032433819672, 140.97546105776559), 8],
    ['XM56301016', (35.235560418824775, 138.43316567596403), 8],
    ['PS61272751', (21.453318946417433, 129.7271757354062), 8],
    ['XM60832123', (31.117062330967663, 153.37296143880505), 8],
    ['XU63124187', (40.581479285547495, 134.29660112787687), 8],
    ['XX03173236', (43.508260508407346, 141.77107148300564), 8],
    ['PZ38755703', (41.37601173942487, 47.1086724584667), 8],
    ['PZ57757416', (46.004671100980865, 36.12863892699283), 8],
    ['Fc51504013', (-39.85174798739916, -129.63572626124065), 8],
    ['OW22586402', (0.7022008550131252, -58.3600060966316), 8],
    ['PC52458806', (36.09345953973502, -111.351928059747), 8],
    ['SV20852101', (66.82209536122706, -93.77533912513334), 8],
    ['aX46486040', (77.61799779414096, 24.60905349794241), 8],
    ['ZA62754057', (74.95939479445362, 129.37661941777165), 8],
    ['bD28367162', (83.44032235192313, -52.03170248437738), 8],
    ['aA05722747', (80.76072843510799, 177.89056546258192), 8],  # 本家だとTK05722747 # noqa
    ['TK83151057', (82.50462047799635, -178.85383325712547), 8],
    ['TO31130720', (83.83815019303304, -176.04023776863284), 8],
    ['aE51331450', (84.61506920309282, 172.0073159579332), 8],  # 本家だとTO51331450 # noqa
    ['bb33488116', (85.04932657519551, 88.85840573083371), 8],
    ['BV804240512', (-85.02069085118825, -80.5080526342529), 9],
    ['CI708565326', (-85.25892235752575, 126.56200782401055), 9],
    ['CI754848748', (-84.99009715358707, 124.453589391861), 9],
    ['KE055580431', (-84.96312883886038, 176.7921556673271), 9],  # 本家DO055580431 # noqa
    ['KE053480025', (-85.05064269354392, 178.51140578163896), 9],  # 本家DO053480025 # noqa
    ['DO073506567', (-85.05064269354392, -177.23111314332166), 9],
    ['CZ347013544', (-78.34947806021368, -12.656607224508448), 9],
    ['LK413474586', (-77.91557130594418, 178.59371030838793), 9],  # 本家EU413474586 # noqa
    ['EU354580674', (-78.0620691964047, -175.78113092516384), 9],
    ['OK474555348', (-48.92264328551308, 61.87471422039323), 9],
    ['Fb484868583', (-47.990103953997306, -99.8435197886501), 9],
    ['GH147081657', (-25.800037734013387, -165.93710308387952), 9],
    ['GI730641802', (-9.797044998389058, -170.64675100340395), 9],
    ['Mc576514101', (-6.316518377294901, 176.6976578773561), 9],  # 本家GI576514101 # noqa
    ['OY041035522', (-8.406852481197332, -0.7031448458060258), 9],
    ['OY537117080', (2.810093065032651, -4.005486968449931), 9],
    ['PA402570238', (9.100307229345306, -61.66133211400701), 9],
    ['XK058877078', (6.315352201442765, 177.89056546258192), 9],  # 本家QU058877078 # noqa
    ['QU832828267', (17.97695943266528, -179.43504547071078), 9],
    ['PZ382714446', (40.979941869938415, 45.35182644922014), 9],
    ['PZ028668414', (36.5981065089872, 36.21094345374179), 9],
    ['PS383657231', (20.96054525607148, 127.83010719910583), 9],
    ['XM602176827', (30.447757019883404, 151.73703195651072), 9],
    ['XM482452815', (34.88453418992268, 138.3772798861962), 9],
    ['XX033123366', (43.324172591538805, 142.59614896103236), 9],
    ['OI860616105', (28.611823502104176, -115.09932428999643), 9],
    ['RX114077466', (46.315519731164876, -108.77102067774221), 9],
    ['SV355072242', (66.51330668794105, -76.28918355941674), 9],
    ['YG413103084', (70.84427362032683, 98.29903978052126), 9],
    ['ZA486483578', (75.49677307800924, 121.5028196921201), 9],
    ['aX426174078', (77.54216784091535, 16.87547629934462), 9],
    ['aX747576237', (78.49020322752219, 27.28344256464972), 9],
    ['aA184816376', (81.51821910339622, 173.32012396484274), 9],  # 本家TK184816376 # noqa
    ['TO310523631', (83.829769600284, -175.91932124168065), 9],
    ['aE423806423', (84.40576083787137, 176.34608545445306), 9],  # 本家TO423806423 # noqa
    ['bb303856635', (84.89703001315176, 87.40029467052783), 9],
    ['aE815178640', (85.0496809490896, 176.89071787837224), 9],  # 本家TO815178640 # noqa
    ['SV1700305142', (65.94654074919876, -84.37501058442986), 10],
    ['BV5482764471', (-85.05111506114845, -87.02264221239982), 10],
    ['BV7560068257', (-85.05017028096445, -74.02597842469812), 10],
    ['CI5263615540', (-85.14129611826941, 110.74226489864347), 10],
    ['CI7265571616', (-85.1114082947234, 123.39853342139577), 10],
    ['CI7505181555', (-85.08135383503867, 124.10167826720179), 10],
    ['CI5736546251', (-85.05111506114845, 116.71865738623856), 10],
    # DO0273028158
    ['KE0273028158', (-85.11142495914162, 176.48427577096982), 10],
    # DO0536546500
    ['KE0536546500', (-85.05113193058828, 178.94528273129094), 10],
    ['DO0716764500', (-85.05113193058828, -177.89056546258197), 10],
    # EU4016113514
    ['LK4016113514', (-78.20657677972486, 179.64842757709698), 10],
    # EU4827777232
    ['LK4827777232', (-76.95200706545712, 178.87855848532573), 10],
    ['EU7445272188', (-76.67125372443621, -173.73875933546717), 10],
    ['OK1777354303', (-51.1793357370083, 56.6014665786042), 10],
    ['CZ3420476772', (-78.4202281335297, -14.765703060170377), 10],
    ['Fb4334484641', (-50.95852020163508, -97.03127910718219), 10],
    ['GH5856584625', (-15.961399068408907, -166.9921590543447), 10],
    # GI1730824803
    ['Mc1730824803', (-14.569012270261892, 176.24176531355312), 10],
    ['GI7234521114', (-8.059072046057983, -177.18742061677588), 10],
    ['QU3851424320', (10.487900363316632, -174.3748412335518), 10],
    # QU8152020110
    ['XK8152020110', (17.97881945245889, 176.48427577096982), 10],
    ['PA0426257051', (3.8640599125684467, -61.17190807634337), 10],
    ['OY4244664644', (0, -4.218869074836153), 10],
    ['OY7353226324', (2.848178749868688, 8.194888990499416), 10],
    ['OY3444432334', (-3.864255017562445, 6.679876035157243), 10],
    # QU8136543688
    ['XK8136543688', (17.308706606781136, 178.94528273129094), 10],
    ['QU8831183154', (20.749483042625016, -179.58339683991258), 10],
    ['PS6206841033', (21.77982496043273, 129.37492590899083), 10],
    ['XM0565771230', (27.326562730623966, 139.10785957425188), 10],
    ['XM4863207510', (34.69969443229734, 141.56886653457298), 10],
    ['XX0330807788', (43.28817039237169, 142.97515622618502), 10],
    ['XM6054354111', (30.858393806487317, 152.6430591542617), 10],
    ['PZ1548687734', (40.17883606392535, 31.28892953309963), 10],
    ['PZ7555070851', (45.91563178433442, 43.482870158681784), 10],
    ['OI7581576564', (27.839078765848246, -115.84006503073718), 10],
    ['RX1535370770', (47.989842206759874, -108.28125793832243), 10],
    ['SV7031782060', (67.74277620854204, -72.77345933038661), 10],
    ['SW6431665682', (71.30076217120532, -85.95708648749344), 10],
    ['aX1617612856', (76.63925321468737, 17.402496231942973), 10],
    ['aX7255422107', (78.48040532816346, 21.158698707852803), 10],
    ['ZA7323011017', (75.40885284001867, 127.61706379447577), 10],
    # TK0130411728
    ['aA0130411728', (80.13997185555716, 178.4829548341208), 10],
    ['TK8071386820', (82.4189123646549, -179.4076106284611), 10],
    ['TO4434206021', (84.38379583319873, -179.40794933021724), 10],
    ['bb3372146218', (85.05113193058828, 89.06467510034044), 10],
    ['BV57264048634', (-85.02070782407576, -85.42972785313896), 11],
    ['CI57246068382', (-85.02070782407576, 114.25776332650283), 11],
    # DO05443747884
    ['KE05443747884', (-85.02070782407576, 177.89056546258192), 11],
    ['DO04773823048', (-85.08135942391766, -178.94528273129097), 11],
    ['DO04773823048', (-85.08135942391766, -178.94528273129097), 11],
    ['DO07200264504', (-85.05113193058828, -179.29685515419396), 11],
    ['CZ34837816828', (-78.20655013493614, -13.007840945655294), 11],
    # EU18781747622
    ['LK18781747622', (-77.69287316941559, 174.0233817112342), 11],
    ['EU47467037811', (-77.28205417737901, -177.18990442965446), 11],
    ['Fb05827021141', (-53.33088399648074, -102.65621207245964), 11],
    ['OK72311284586', (-47.75412569895254, 62.57808486737005), 11],
    ['GH51383310718', (-20.30343065964378, -168.04687632305374), 11],
    ['GI47416263465', (-10.351477994498591, -177.89304927546053), 11],
    ['GI87045185255', (-3.375121887678373, -177.89304927546053), 11],
    ['QU07002763476', (4.002573029443376, -177.89304927546053), 11],
    # QU85663663436
    ['XK85663663436', (20.055949967827992, 179.91216334456695), 11],
    # QU84201138888
    ['XK84201138888', (18.562938073608677, 178.41792409693645), 11],
    ['PS62147032100', (22.106011968040356, 128.23248488543416), 11],
    ['XM30178015132', (26.947715856243768, 146.15974303826766), 11],
    ['XM60054311737', (29.884656543260686, 153.10312903972408), 11],
    ['XM44560457183', (32.99019885298108, 139.74608658345892), 11],
    ['XM56456700534', (36.00128269884677, 137.72223068976615), 11],
    ['XX03131786872', (43.3251683966725, 141.67973490942552), 11],
    ['PZ16386410216', (38.822566699114795, 38.67183751347751), 11],
    ['OI78178446320', (28.11665750014962, -113.82072516045996), 11],
    ['RX13217487787', (46.412184656537676, -106.08635765776445), 11],
    ['SV40163034106', (66.23147555689933, -80.15625441017913), 11],
    ['aX41314430862', (77.15715356553575, 18.281201488029684), 11],
    ['ZA47238521110', (75.14076576175513, 120.93752646107471), 11],
    # TK11857485652
    ['aA11857485652', (81.06017353309196, 170.9449214494177), 11],
    ['TK43222807032', (81.48680964730961, -179.91453425686015), 11],
    ['TO03574622544', (83.54984670370604, -178.242137885485), 11],
    # TO54114446763
    ['aE54114446763', (84.73838771967266, 172.35358205332295), 11],
    ['bb33540877533', (85.05041774078212, 88.15977690844329), 11],
    ['BV803254745602', (-85.0506539409143, -79.82665996789856), 12],
    ['CI803456424553', (-85.05112818182883, 120.70679529806696), 12],
    # DO053652024200
    ['KE053652024200', (-85.05207465365511, 178.8683974326407), 12],
    # DO053654462750
    ['KE053654462750', (-85.05113005620892, 178.93433137450816), 12],
    ['DO071704644727', (-85.05113005620892, -178.25316450932468), 12],
    ['CY281612610161', (-79.4452281268277, -13.70233007991481), 12],
    # EU181655132036
    ['LK181655132036', (-77.91566682955617, 172.96873970958208), 12],
    ['EU832016181016', (-76.18499280856993, -179.29689278772247), 12],
    ['FY636801583240', (-57.364360717067285, -102.999204050873), 12],
    ['OK446658243285', (-49.8379914216003, 61.87501528862095), 12],
    ['GH058068815001', (-27.745624883854536, -162.06171522332681), 12],
    # GI410587505268
    ['Mc410587505268', (-13.30821393540185, 177.54768638475392), 12],
    ['GI871735246286', (-2.881445728338333, -178.2335950745238), 12],
    ['QU460311054340', (10.418820497790831, -175.42109095835664), 12],
    # QU533828300764
    ['XK533828300764', (13.855307445928876, 176.14139669314187), 12],
    ['OY313181386161', (-5.615990333705467, 4.921863386528326), 12],
    ['OY803527038734', (4.845926929147412, 0.3601528673926176), 12],
    ['PA043284261600', (3.513407610346112, -59.765618384731326), 12],
    ['PZ060785824214', (35.403520413948364, 44.65703624673294), 12],
    ['PS625060382624', (22.593728295005597, 128.32032154086718), 12],
    ['XM317558565378', (28.860201911665968, 144.85235425945686), 12],
    ['XL822458403751', (29.47417206661665, 153.99297382023593), 12],
    ['XP251226173262', (42.50140031192322, 143.09452977847025), 12],
    ['OI745463230145', (26.368400819214855, -113.89764809263869), 12],
    ['RU681285781273', (43.52956234887473, -107.92106743740135), 12],
    ['SV352321156833', (66.37275241126041, -76.99217787110894), 12],
    ['ZA412658306821', (74.49641524173614, 116.71873265329549), 12],
    ['aX413323833627', (77.15715839512343, 18.632811544461198), 12],
    ['bD023073480358', (82.11838119136951, -43.59373853353431), 12],
    # TK570232153327
    ['aA570232153327', (82.26169903937593, 175.07813661347168), 12],
    ['TK800808780528', (82.29949945404425, -179.9914195555104), 12],
    ['TO328348003525', (84.11778702185453, -177.53045022871783), 12],
    # TO563763855337
    ['aE563763855337', (84.76413166644133, 178.95390080930906), 12],
    ['bb337212207184', (85.05089012980277, 88.98101576656671), 12],
    ['BV8046354823266', (-85.02070782407576, -79.45312210888258), 13],
    ['CI5803560714155', (-84.99010031598158, 113.55468120324429), 13],
    # DO0482706175341
    ['KE0482706175341', (-85.05397142670375, 179.60449670487097), 13],
    # DO0482731186381
    ['KE0482731186381', (-85.05302344313857, 179.60449670487097), 13],
    # DO0485035421662
    ['KE0485035421662', (-85.05207652767761, 179.7692813815018), 13],
    # DO0485060618642
    ['KE0485060618642', (-85.05207652767761, 179.81323734274676), 13],
    # DO0485068654767
    ['KE0485068654767', (-85.05018090449299, 179.81323734274676), 13],
    ['DO0712537663424', (-85.05207652767761, -179.04967813924787), 13],
    ['DO0712564265481', (-85.05112880662227, -179.0441961886017), 13],
    # EU4501241604860
    ['LK4501241604860', (-77.50412004123892, 177.36328209528438), 13],
    ['EU8407181150325', (-75.97257900135345, -179.8485752259737), 13],
    ['CZ3061211527483', (-78.90392851824576, -12.304683555339782), 13],
    ['Fb4625116215430', (-49.83798675049283, -97.38281389655673), 13],
    ['OK7250326542858', (-47.27922833623412, 61.52344286571794), 13],
    ['GH4221515066426', (-22.593728295005597, -166.28906438657665), 13],
    # GI4421818162227
    ['Mc4421818162227', (-11.523081594188353, 178.2421880635229), 13],
    ['GI8724851414563', (-2.460176832420581, -179.296880243213), 13],
    ['QU4074815410453', (9.449059554640053, -179.296880243213), 13],
    # QU8810462030471
    ['XK8810462030471', (20.63278322541268, 179.296880243213), 13],
    ['PA0414822216031', (3.513422068272812, -60.820310564421405), 13],
    ['OY4236836048713', (-0.35155967220222734, -3.1640639945607014), 13],
    ['OY7001555744550', (0.3555792253075448, 6.303766551696238), 13],
    ['XM4117607703260', (31.353642691994537, 137.46094110164628), 13],
    ['PS6246856326218', (22.593721608280728, 129.3750011760478), 13],
    ['XL5887834871345', (29.232394838443412, 153.60845951541816), 13],
    ['XX0066438378463', (42.81446731196279, 142.0068957168654), 13],
    ['PZ4537105130820', (42.55307759789627, 38.67187514700597), 13],
    ['OI8337351073052', (27.997949854465656, -116.74310663523015), 13],
    ['RX1135780670728', (46.3193563989732, -108.3056068312381), 13],
    ['SV4163853373183', (66.93005958856028, -80.50781428857267), 13],
    ['aX4034808877353', (76.92061301619422, 20.742183359331843), 13],
    ['ZA4726354081160', (75.14077876301411, 121.28906125044925), 13],
    ['bD0853382488383', (82.5861070130518, -40.429687083483095), 13],
    # TK2756770452053
    ['aA2756770452053', (81.92318725325978, 168.74999607984083), 13],
    ['TK7434850466772', (82.16644549708819, -172.61719237569804), 13],
    ['TO0846631354832', (83.90548470121078, -179.3212291361287), 13],
    # TO4805277813220
    ['aE4805277813220', (84.60821834245287, 179.6240786841813), 13],
    ['bb3356324634667', (85.05109881644849, 88.67683650050841), 13],
    ['BV80717180121576', (-84.99010031598158, -79.45312629038575), 14],
    ['CI56436210413512', (-85.14128384950676, 118.1250014373917), 14],
    ['CI56773820550701', (-85.08136459879998, 118.82812537568195), 14],
    ['CI80611150250021', (-85.03594145592328, 121.11328340200407), 14],
    # DO05167224507116
    ['KE05167224507116', (-85.05112880662227, 177.5390641252327), 14],
    # DO05405867244763
    ['KE05405867244763', (-85.03594145592328, 177.71484615518105), 14],
    ['DO07170215584802', (-85.05136559766956, -178.33969235426784), 14],
    ['DO07170226100057', (-85.05124730768841, -178.33969235426784), 14],
    ['DO07170227640163', (-85.05101030272562, -178.33969235426784), 14],
    # EU16473602511456
    ['LK16473602511456', (-78.34941078146068, 178.15429704854873), 14],
    ['EU40673078217161', (-78.09010038610904, -178.18243020182655), 14],
    ['CZ31831222362536', (-78.49055150369068, -15.468751731403659), 14],
    ['Fb31200035818717', (-53.33087390431171, -97.03124983666004), 14],
    ['OK44243402806508', (-49.92565546027554, 58.594914581298774), 14],
    ['OY01571576207503', (-8.407170118467867, -2.8124999346640127), 14],
    ['OY56733420402656', (4.079240169372639, -1.1707079849357165), 14],
    ['GH84065825033010', (-15.961327113736004, -159.60937651906173), 14],
    # GI50342481388451
    ['Mc50342481388451', (-10.621567107054151, 173.9074160840265), 14],
    ['GI78081171860100', (-5.751378038946543, -173.43633630073705), 14],
    ['QU30541311610415', (5.480563953528032, -174.13946023902727), 14],
    # QU44828780263624
    ['XK44828780263624', (12.421722939346756, 179.5324159533545), 14],
    ['PA07571045254517', (5.615985528497132, -58.35937468965406), 14],
    ['PS38383877824230', (21.162545692441366, 127.50116507131868), 14],
    ['XM31385143063872', (28.184519988899293, 145.07928861759297), 14],
    ['XL82447011727335', (29.416780398005393, 155.62616441795882), 14],
    ['XP22503400845082', (41.93183305535667, 141.56366474463874), 14],
    ['PZ13526267300787', (38.27268968795205, 34.45312315425837), 14],
    ['OI78437338044154', (28.184519988899318, -112.9675856147092), 14],
    ['RU68880348017456', (44.49349196120463, -106.63946180709097), 14],
    ['SV13411223332736', (65.3100644125332, -84.84258626806907), 14],
    ['aX38226176387034', (77.28260266195558, 24.844915365330607), 14],
    ['ZA35122807551718', (74.01954369731402, 123.04687318692636), 14],
    ['bD32858648748733', (82.85338216634169, -37.96875120871575), 14],
    # TK18678460283758
    ['aA18678460283758', (81.51827215930582, 175.07812406896218), 14],
    ['TK35253726505866', (81.30832083644431, -177.18750006533597), 14],
    ['TO35083224064751', (84.11102995385924, -175.5457122971109), 14],
    # TO45177603556405
    ['aE45177603556405', (84.52840268072897, 177.42303995698072), 14],
    ['bb33563401287846', (85.0501290364617, 88.7193205726401), 14],
    ['bb33563422636071', (85.0511285983578, 88.70249838541709), 14],
    ['BV801644720107680', (-85.05491832726936, -80.24414124365012), 15],
    ['BV801672224571144', (-85.05112880662227, -80.24414124365016), 15],
    ['BV752066087034602', (-85.0435409337982, -76.8164069918357), 15],
    ['CI584051202811030', (-84.92832089229395, 113.2031255063539), 15],
    # DO053702425073344
    ['KE053702425073344', (-85.05112880662227, 178.70361275600987), 15],
    # DO053474671871414
    ['KE053474671871414', (-85.05101030272562, 178.62121623619137), 15],
    ['DO048672464801367', (-85.05112873720078, -179.47265669782374), 15],
    ['DO048680771383421', (-85.04923289070342, -179.49462910310868), 15],
    ['CZ312460160330640', (-78.63000548385058, -16.87499960798409), 15],
    # EU482446631807432
    ['LK482446631807432', (-76.99993502220802, 178.59374933575083), 15],
    ['EU443120677000135', (-77.69287042493717, -179.64843733393766), 15],
    ['OK486263022716030', (-48.224673018823516, 61.171874624318086), 15],
    ['Fb563137601173436', (-47.75409810634945, -101.60156310163555), 15],
    ['GH405610617770460', (-24.527135091152235, -160.3125004573519), 15],
    # GI428447007470857
    ['Mc428447007470857', (-10.627811533740404, 175.5841166159903), 15],
    ['GI714676472576137', (-8.895519993960725, -174.92369558183077), 15],
    ['QU430846555413857', (9.655313810029215, -177.73619551649475), 15],
    # QU455868523435074
    ['XK455868523435074', (13.453736454342776, 177.18750006533597), 15],
    ['XM314886135481601', (28.613458944989343, 144.49218745372033), 15],
    ['PS624076167125758', (22.268763871961657, 129.02343711615106), 15],
    ['XL828827023882162', (30.401660908330708, 155.41321858173586), 15],
    ['XP252183615213788', (42.771513349093496, 142.756969572665), 15],
    ['OY441655876848342', (-0.35155967220222734, -0.35156266606230013), 15],
    ['OY450583438341310', (0.6485910111569012, -2.438343213179931), 15],
    ['PA007023204648554', (1.4061087624421291, -59.41406268784096), 15],
    ['OI754343508378851', (27.01056357503122, -115.28990605347154), 15],
    ['RX153284780083552', (47.98992137736064, -108.63281224137839), 15],
    ['PZ541437131806627', (44.33956527784659, 32.695312611615634), 15],
    ['SV081012647253500', (65.07213005846185, -80.85937416696618), 15],
    ['ZA162768706170274', (73.82482041043065, 116.71874937930812), 15],
    ['aX538661552510561', (78.27820151012904, 16.171874275859466), 15],
    ['bD475537206875044', (83.40004212473188, -38.67187514700599), 15],
    # TK573170435224014
    ['aA573170435224014', (82.30889241261167, 176.13281206714908), 15],
    ['TK720137660817775', (82.07002829250126, -177.89062539746055), 15],
    ['TO078855632751174', (83.89926648794052, -177.8680313420388), 15],
    ['TO448407012467243', (84.50259507567017, -179.9774059445782), 15],
    # TO801157747467437
    ['aE801157747467437', (84.86090063565264, 178.96790605723493), 15],
    ['bb337184418811744', (85.05112505786047, 89.37952974397285), 15],
]


def test_geohex():
    for r_code, latlng, level in geohex_testcases:
        lat = latlng[0]
        lng = latlng[1]
        geohex = GeoHex(lat, lng, level)
        assert geohex.hexes[level]['code'] == r_code
    geohex = GeoHex(35.6785879, 139.772194, 8)
    assert geohex.hexes[8]['raw_code'] == '70248854864'
    print(geohex)
    return


def test_code2hex():
    for code, latlng, r_level in geohex_testcases:
        lat = latlng[0]
        lng = latlng[1]
        hex_info = code2hex(code, lat=lat, lng=lng)
        assert hex_info['code'] == code
        assert hex_info['level'] == r_level
    return


special_geohex_test_cases = [
    ['xx44', (0.0, 0.0), -1],
    ['SW6', (71.48066686818822, -86.66666666666666), 1],
    ['XK026', (3.8461100614416903, 177.037037037037), 3],  # 本家だとQU026
    ['GH80422', (-17.674819831740678, -160.65843621399173), 5],
    ['bD28367162', (83.44032235192313, -52.03170248437738), 8],
    ['bb33488116', (85.04932657519551, 88.85840573083371), 8],
    ['SV355072242', (66.51330668794105, -76.28918355941674), 9],
    ['aA184816376', (81.51821910339622, 173.32012396484274), 9],  # 本家TK184816376 # noqa
]


def test_special_cases():
    for last_code, latlng, last_level in special_geohex_test_cases:
        lat = latlng[0]
        lng = latlng[1]
        for level in range(-2, last_level + 1):
            geohex = GeoHex(lat, lng, level)
            print(geohex)
            code = geohex.hexes[level]['code']
            hex_info = code2hex(code, lat=lat, lng=lng)
            assert code == hex_info['code']
            a_center = geohex.hexes[level]['center']
            b_center = hex_info['center']
            assert round(a_center[0], 7) == round(b_center[0], 7)
            assert round(a_center[1], 7) == round(b_center[1], 7)
    return


def test_geohex_paramerror():
    with pytest.raises(TypeError):
        GeoHex('abc', 0.0, 10)
    with pytest.raises(TypeError):
        GeoHex(0.0, 'abc', 10)
    with pytest.raises(TypeError):
        GeoHex(0.0, 0.0, 'abc')
    with pytest.raises(TypeError):
        GeoHex(0.0, 0.0, 1.5)
    with pytest.raises(ValueError):
        GeoHex(-100, 0.0, 10)
    with pytest.raises(ValueError):
        GeoHex(0.0, 200, 10)
    with pytest.raises(ValueError):
        GeoHex(0.0, 0.0, -3)
    return


def test_code2hex_paramerror():
    with pytest.raises(TypeError):
        code2hex(12345)
    with pytest.raises(ValueError):
        code2hex('A')
    with pytest.raises(ValueError):
        code2hex('12345')
    with pytest.raises(ValueError):
        code2hex('AA934')
    return
